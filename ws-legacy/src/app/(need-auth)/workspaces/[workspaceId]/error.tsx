"use client";

import { useContext, useEffect } from "react";
import { AlertContext } from "@/common/stores/AlertContext";

export default function Error({
  error,
}: {
  error: Error & { digest?: string };
}) {
  const { addAlert } = useContext(AlertContext);

  useEffect(() => {
    // Log the error to an error reporting service
    addAlert({
      type: "error",
      text: "콘텐츠를 불러오는데 실패했습니다.",
    });
    console.error(error);
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [error]);

  return (
    <div className="flex flex-col items-center justify-center gap-[8px]">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="130"
        height="163"
        viewBox="0 0 130 163"
        fill="none"
      >
        <path
          opacity="0.49"
          fillRule="evenodd"
          clipRule="evenodd"
          d="M60.1978 30.1804C55.9758 30.5349 52.0828 31.3451 48.4639 32.4085H48.3543C49.2864 25.8761 54.7695 20.6604 61.7879 19.597V13.0647C59.0464 12.1025 57.1273 9.67191 57.1273 6.78553C57.1273 3.0383 60.4171 0 64.4746 0C68.5322 0 71.822 3.0383 71.822 6.78553C71.822 9.62127 69.9029 12.1025 67.1614 13.0647V19.597C74.1798 20.6604 79.6629 25.8761 80.595 32.4085C76.9762 31.2944 73.0283 30.4842 68.8612 30.1804H68.6967C68.0935 30.1298 67.4355 30.0791 66.7776 30.0791H64.5295H62.2814C61.9524 30.0791 61.6372 30.1044 61.3219 30.1298L61.3219 30.1298L61.3218 30.1298C61.0065 30.1551 60.6913 30.1804 60.3623 30.1804H60.1978ZM119.195 74.0312H123.856H123.911C126.707 74.0312 129.01 76.158 129.01 78.7405V90.3367C129.01 92.9192 126.707 95.0461 123.911 95.0461H119.908C119.36 99.7048 117.331 103.958 114.37 107.452V126.847C114.37 133.784 106.036 137.987 99.7302 134.24L65.0769 116.972H35.8518C22.0892 116.972 10.7391 107.402 9.149 95.0461H5.09149C2.2951 95.0461 -0.0078125 92.9192 -0.0078125 90.3367V78.7405C-0.0078125 76.158 2.2951 74.0312 5.09149 74.0312H9.75215C11.5067 66.2835 15.8384 58.5865 22.6375 52.3074C22.6375 52.3074 37.2774 36.8121 60.1421 34.9891H60.3066C60.9097 34.9384 61.5677 34.8878 62.2257 34.8878H64.4737H66.7218C67.0508 34.8878 67.3661 34.9131 67.6814 34.9384C67.9966 34.9638 68.3119 34.9891 68.6409 34.9891H68.8054C91.67 36.8121 106.31 52.3074 106.31 52.3074C113.164 58.6371 117.496 66.2835 119.195 74.0312ZM93.3698 100.718C97.8111 100.718 101.375 97.426 101.375 93.3243V69.0686C101.375 64.9669 97.8111 61.6754 93.3698 61.6754H35.5228C31.0815 61.6754 27.5175 64.9669 27.5175 69.0686V93.375C27.5175 97.4767 31.0815 100.768 35.5228 100.768H72.4243L90.7927 111.757C91.6152 112.263 92.7666 111.706 92.7666 110.744V100.718H93.3698ZM60.1773 76.1165L56.2613 72.5C56.09 72.3418 55.8123 72.3418 55.641 72.5L52.2691 75.6141L48.9487 72.5477C48.756 72.3697 48.4435 72.3697 48.2508 72.5477L44.4124 76.0925C44.2197 76.2705 44.2197 76.5591 44.4124 76.737L47.7328 79.8035L44.3973 82.8839C44.226 83.0422 44.2259 83.2987 44.3972 83.4569L48.3132 87.0733C48.4845 87.2315 48.7622 87.2315 48.9335 87.0733L52.2691 83.9929L55.5787 87.0493C55.7714 87.2273 56.0838 87.2273 56.2765 87.0493L60.1149 83.5045C60.3076 83.3265 60.3076 83.0379 60.1149 82.86L56.8053 79.8035L60.1773 76.6894C60.3486 76.5312 60.3486 76.2747 60.1773 76.1165ZM84.6011 76.1377L80.6852 72.5212C80.5139 72.363 80.2361 72.363 80.0648 72.5212L76.6992 75.6295L73.3843 72.5681C73.1915 72.3901 72.8791 72.3901 72.6864 72.5681L68.848 76.1129C68.6553 76.2909 68.6553 76.5795 68.848 76.7575L72.1629 79.8189L68.8211 82.9052C68.6498 83.0634 68.6498 83.3199 68.8211 83.4781L72.737 87.0946C72.9083 87.2528 73.1861 87.2527 73.3574 87.0945L76.6992 84.0083L80.0142 87.0698C80.2069 87.2477 80.5194 87.2477 80.7121 87.0698L84.5505 83.5249C84.7432 83.3469 84.7432 83.0584 84.5505 82.8804L81.2355 79.8189L84.6011 76.7106C84.7724 76.5524 84.7724 76.2959 84.6011 76.1377Z"
          fill="#CDCDCF"
        />
        <g opacity="0.3" filter="url(#filter0_f_2395_3952)">
          <ellipse
            cx="64.7539"
            cy="151.393"
            rx="31.875"
            ry="5.60714"
            fill="#CDCDCF"
          />
        </g>
        <defs>
          <filter
            id="filter0_f_2395_3952"
            x="27.8194"
            y="140.726"
            width="73.8691"
            height="21.3333"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="BackgroundImageFix"
              result="shape"
            />
            <feGaussianBlur
              stdDeviation="2.52976"
              result="effect1_foregroundBlur_2395_3952"
            />
          </filter>
        </defs>
      </svg>
      <div className="text-boldlg">콘텐츠를 불러오는데 실패했습니다.</div>
      <div className="text">
        지속적으로 반복되면 왼쪽 사이드바 하단의 챗봇에 문의를 남겨주세요.
        신속하게 대응해드리겠습니다.
      </div>
    </div>
  );
}
